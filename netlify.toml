[build]
  publish = "web"
  functions = "netlify/functions"

[dev]
  command = "npx http-server web --port=8888 --cors"
  targetPort = 8888
  port = 8888

[[redirects]]
  from = "/ask"
  to = "/.netlify/functions/ask"
  status = 200
  force = true

[[redirects]]
  from = "/api/gemini"
  to = "/.netlify/functions/gemini"
  status = 200
  force = true

[[redirects]]
  from = "/api/rebuttal/summary"
  to = "/.netlify/functions/rebuttal-summary"
  status = 200
  force = true

[[redirects]]
  from = "/api/rebuttal/tts"
  to = "/.netlify/functions/rebuttal-tts"
  status = 200
  force = true

[[headers]]
  for = "/*"
  [headers.values]
    Cache-Control = "public, max-age=60"
